<!DOCTYPE html>
<head>
    <title>Skill Tree Editor</title>
    <link href="skillDecor.css" rel="stylesheet">
</head>
<body>

    <div id="control" class="control">
        <button onclick="win.downloadCSVs()">Download</button>
        <br><br>
        <button id='load'>Load File</button>
        <input type="file" id='file'>
        <hr color="black">
        <table>
            <tr>
                <td>
                    <label for='name'>Name: </label>
                </td>
                <td>
                    <input type="text" id='name' onkeyup="setData()">
                </td>
            </tr>
            <tr>
                <td>
                    <label for='script'>Script: </label>
                </td>
                <td>
                    <input type="text" id='script' onkeyup="setData()">
                </td>
            </tr>
            <tr>
                <td>
                    <label for='tool'>Tooltip: </label>
                </td>
                <td>
                    <input type="text" id='tool' onkeyup="setData()">
                </td>
            </tr>
        </table>
    </div>

    <script src="JS.js"></script>

    <script>
	    document.querySelector("#load").addEventListener('click', function() {
            if(confirm("Load new File?")){
                let file = document.querySelector("#file").files[0];
		        let reader = new FileReader();
		        reader.addEventListener('load', function(e) {
	    	    	let text = e.target.result;
                    text.replaceAll('\r\n', '\n');
                    let fullContent = win.splitFile(text);
                    win.loadNewScene(fullContent);
		        });
		        reader.readAsText(file);
            }
	    });
    </script>

</body>